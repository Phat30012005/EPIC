<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Trang cá nhân | Chicky.stu</title>

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="/css/style.css" />
    <link rel="stylesheet" href="/css/chatbox.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />
  </head>

  <body class="bg-gray-100 flex flex-col min-h-screen">
    <div id="header-placeholder"></div>

    <main class="container my-5 flex-grow">
      <div id="profile-loading" class="text-center py-10">
        <div class="spinner-border text-primary" role="status">
          <span class="visually-hidden">Đang tải...</span>
        </div>
        <p class="mt-2 text-gray-500">Đang tải thông tin người dùng...</p>
      </div>

      <div
        id="profile-content"
        class="hidden grid grid-cols-1 md:grid-cols-3 gap-8"
      >
        <div class="md:col-span-1">
          <div
            class="bg-white p-6 rounded-lg shadow-sm text-center sticky top-24"
          >
            <div class="mb-4">
              <img
                id="user-avatar"
                src="/assets/logo2.jpg"
                class="w-32 h-32 rounded-full object-cover mx-auto border-4 border-blue-50 shadow-md"
              />
            </div>
            <h1 id="user-name" class="text-2xl font-bold text-gray-800 mb-1">
              ...
            </h1>
            <p
              id="user-role"
              class="text-sm text-gray-500 mb-4 uppercase tracking-wider font-semibold"
            >
              ...
            </p>

            <div class="text-left space-y-3 border-t pt-4 text-gray-600">
              <p>
                <i class="fa-solid fa-calendar-days w-6 text-center"></i> Tham
                gia:
                <span id="user-joined" class="font-medium text-gray-800"
                  >...</span
                >
              </p>
              <p>
                <i class="fa-solid fa-phone w-6 text-center"></i> SĐT:
                <span id="user-phone" class="font-medium text-gray-800"
                  >...</span
                >
              </p>
              <p>
                <i class="fa-solid fa-envelope w-6 text-center"></i> Email:
                <span id="user-email" class="font-medium text-gray-800"
                  >...</span
                >
              </p>
            </div>
          </div>
        </div>

        <div class="md:col-span-2">
          <h3
            class="text-xl font-bold text-gray-700 mb-4 border-l-4 border-primary pl-3"
          >
            Tin đăng của người này
          </h3>

          <ul class="nav nav-tabs mb-4" id="postsTab" role="tablist">
            <li class="nav-item">
              <button
                class="nav-link active"
                id="rental-tab"
                data-bs-toggle="tab"
                data-bs-target="#rental-content"
                type="button"
              >
                Phòng trọ
              </button>
            </li>
            <li class="nav-item">
              <button
                class="nav-link"
                id="roommate-tab"
                data-bs-toggle="tab"
                data-bs-target="#roommate-content"
                type="button"
              >
                Tìm ở ghép
              </button>
            </li>
          </ul>

          <div class="tab-content">
            <div class="tab-pane fade show active" id="rental-content">
              <div
                id="user-rental-list"
                class="grid grid-cols-1 md:grid-cols-2 gap-4"
              ></div>
              <p id="no-rental-msg" class="text-gray-500 italic hidden">
                Người này chưa đăng tin phòng trọ nào.
              </p>
            </div>

            <div class="tab-pane fade" id="roommate-content">
              <div
                id="user-roommate-list"
                class="grid grid-cols-1 md:grid-cols-2 gap-4"
              ></div>
              <p id="no-roommate-msg" class="text-gray-500 italic hidden">
                Người này chưa đăng tin tìm ở ghép nào.
              </p>
            </div>
          </div>
        </div>
      </div>
    </main>

    <div id="footer-placeholder"></div>

    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"></script>

    <script src="/js/supabase-config.js"></script>
    <script src="/js/utils.js"></script>
    <script src="/js/api-client.js"></script>
    <script src="/js/chatbox.js"></script>
    <script src="/js/main.js"></script>

    <script src="/js/public-profile.js"></script>
  </body>
</html>
